# 前端技术栈

**前后端的比较**

![image-20220528195608906](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220528195608906.png) 

---

## JQuery

### 概述

[W3school在线文档](https://www.w3school.com.cn/jquery/index.asp)

[JQuery库下载地址](https://jquery.com/download/)

JQuery 是一个快速的，简洁的 javaScript 库，其宗旨： 写更少的代码,做更多的事情

JQuery 作用

1. 使用户能更方便地处理 HTML,css,dom等等
2. 提供方法、events、选择器，并且方便地为网站提供 AJAX 交互 
3. 实现了浏览器的兼容问题

**代码示例**

原生javascript

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript">
        window.onload = function () {
            var btn = document.getElementById("btn01");
            btn.onclick = function () {
                alert("hello,jquery");
            }
        }
    </script>
</head>
<body>
    <button type="button" id="btn01">按钮</button>
</body>
</html>
```

使用jquery库

```html
DOM 对象转成 jQuery 对象<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="jquery3.6.0/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        //1.得到 btn01 这个对象->jquery 对象 
        //    $btn01 是一个 jquery 数组对象 其实就是对 dom 对象的包装. 
        //2.jquery中，获取对象的方法是 $("#id"),必须在 id 前有# 
        //3.规定 jquery 对象的命名以$开头.(不是必须，但是约定)
        $(function () {
            var $btn01 = $("#btn01");
            $btn01.click(function () {
                alert("hello,jquery");
            })
        })
    </script>
</head>
<body>
    <button type="button" id="btn01">按钮</button>
</body>
</html>
```



### JQuery对象

jQuery 对象就是对 DOM 对象进行包装后产生的对象

**DOM 对象转成 jQuery 对象**

对于一个 DOM 对象，只需要用$()把 DOM 对象包装起来，就可以获得一个 jQuery 对象 如$(DOM 对象)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOM 对象转成 jQuery 对象</title>
    <script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        window.onload = function () {
            var $btn01 = $("#btn01");
            $btn01.click(function () {
                var username = document.getElementById("username");
                alert("username value= " + username.value);
                var $username = $(username);
                alert("$username value= " + $username.val())
                }
            )
        }
    </script>
</head>
<body>
    用户名 <input type="text" id="username" name="username" value="罗念笙"/><
    <button type="button" id="btn01">按钮</button>
</body>
</html>
```

**jQuery 对象转成 DOM 对象**

- JQuery 对象是一个数组对象，可以通过[index]的方法，来得到相应的 DOM 对象
- JQuery 本身提供，通过.get(index)方法，得到相应的 DOM 对象

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        $(function () {
            var $username = $("#username");
            alert($username);  // Object
            alert($username[0]); // HTMLInputElement
            alert($username.get(0)); // HTMLInputElement
        })

    </script>
</head>
<body>
    u:<input type="text" id="username">
</body>
</html>
```



### jQuery 选择器

选择器是 jQuery 的核心, 在 jQuery 中, 对事件处理, 遍历 DOM 和 Ajax 操作都依赖于选择器

#### 基本选择器

基本选择器是 jQuery 中最常用的选择器, 它通过元素 id, class 和标签名来查找 DOM 元素

|        *         |      $("*")      |                 所有元素                  |
| :--------------: | :--------------: | :---------------------------------------: |
|      #*id*       |  $("#lastname")  |           id="lastname" 的元素            |
|     .*class*     |   $(".intro")    |         所有 class="intro" 的元素         |
|    *element*     |      $("p")      |               所有 <p> 元素               |
| .*class*.*class* | $(".intro.demo") | 所有 class="intro" 且 class="demo" 的元素 |

![image-20220509164850628](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220509164850628.png)

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>基本选择器应用实例</title>
        <style type="text/css"> div, span {
            width: 140px;
            height: 140px;
            margin: 20px;
            background: #9999CC;
            border: #000 1px solid;
            float: left;
            font-size: 17px;
            font-family: Roman;
        }

        div.mini {
            width: 60px;
            height: 30px;
            background: #CC66FF;
            border: #000 1px solid;
            font-size: 12px;
            font-family: Roman;
        } </style>
        <script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
        <script type="text/javascript">
            $(function () {
                 $("#b1").click(function () {
                    $("#one").css("background","#0000FF");
                })

                $("#b2").click(function () {
                    $(".mini").css("background","#FF0033");
                })

                $("#b3").click(function () {
                    $("div").css("background","#00FFFF");
                })

                $("#b4").click(function () {
                    $("*").css("background","#00FF33");
                })

                $("#b5").click(function () {
                    $("span,#two,.mini").css("background","#3399FF");
                })
            });
        </script>
    </head>
    <body>
        <input type="button" value="改变 id 为 one 的元素的背景色为 #0000FF" id="b1"/>
        <input type="button" value=" 改变 class 为 mini 的所有元素的背景色为 #FF0033" id="b2"/>
        <input type="button" value=" 改 变 元 素 名 为 <div> 的 所 有 元 素 的 背 景 色 为 #00FFFF" id="b3"/>
        <input type="button" value=" 改变所有元素的背景色为 #00FF33" id="b4"/>
        <input type="button" value=" 改变所有的<span>元素,id为two,class为.mini的元素的背景色为 #3399FF" id="b5"/><hr/>
        <div id="one" class="mini">div id 为 one</div>
        <div id="two">div id 为 two</div>
        <div id="three" class="mini">div id 为 three</div>
        <span id="s_one" class="mini">span one</span> <span id="s_two">span two</span>
    </body>
</html>
```

#### 层次选择器

如果想通过 DOM 元素之间的层次关系来获取特定元素, 例如后代元素, 子元素, 相邻 元素, 兄弟元素等, 则需要使用层次选择器

![image-20220509164820497](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220509164820497.png)

```html
<!DOCTYPE html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8"> 
	<title>层次选择器应用实例</title> 
	<style type="text/css"> 
		div, span { 
			width: 140px; 
			height: 140px; 
			margin: 20px; 
			background: #9999CC; 
			border: #000 1px solid; 
			float: left; font-size: 17px; 
			font-family: Roman; 
		}
		div.mini { 
			width: 80px; 
			height: 30px; 
			background: #CC66FF; 
			border: #000 1px solid; 
			font-size: 12px; 
			font-family: Roman; 
		} 
	</style> 
	<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script> 
	<script type="text/javascript"> 
		$(function(){
			// 在给定的祖先元素下匹配所有后代元素
			$("#b1").click(function (){
				$("body div").css("background","#0000FF");
			})
			
			// 在给定的父元素下匹配所有子元素.注意:要区分好后代元素与子元素
			$("#b2").click(function(){
				$("body > div").css("background","#FF0033");
			})
			
			// 匹配所有紧接在id为 #one 元素后的 div 元素
			$("#b3").click(function(){
				$("#one + div").css("background","#0000FF");
			})
			
			// 匹配id为 #two 元素之后的所有 div 元素
			$("#b4").click(function(){
				$("#two ~ div").css("background","#0000FF");
			})
			
			// 匹配前后所有兄弟元素
			$("#b5").click(function(){
				$("#two").siblings("div").css("background","#0000FF");
			})
		})
	</script> 
</head> 
<body> 
	<input type="button" value="改变 <body> 内所有 <div> 的背景色为 #0000FF" id="b1"/> 
	<input type="button" value="改变 <body> 内子 <div> 的背景色为 #FF0033" id="b2"/> 
	<input type="button" value=" 改变 id 为 one 的下一个 <div> 的背景色为 #0000FF" id="b3"/> 
	<input type="button" value=" 改变 id 为 two 的元素后面的所有兄弟<div>的元素的背景色为 # #0000FF" id="b4"/> 
	<input type="button" value=" 改变 id 为 two 的元素所有 <div> 兄弟元素的背景色为 #0000FF" id="b5"/> <hr/> 
	<div id="one" class="mini"> div id 为 one </div> 
	<div id="two"> div id 为 two 
		<div id="two01"> id two01</div> 
		<div id="two02"> id two02 </div> 
	</div> 
	<div id="three" class="mini"> div id 为 three 
		<div id="three01"> id three01 </div> 
	</div> 
</body> 
</html>
```

#### 基础过滤选择器

![image-20220509164745189](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220509164745189.png)

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>基础过滤选择器-应用实例</title>
		<style type="text/css">
			div,
			span {
				width: 140px;
				height: 140px;
				margin: 20px;
				background: #9999CC;
				border: #000 1px solid;
				float: left;
				font-size: 17px;
				font-family: Roman;
			}

			div.mini {
				width: 80px;
				height: 30px;
				background: #CC66FF;
				border: #000 1px solid;
				font-size: 12px;
				font-family: Roman;
			}
		</style>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				// 匹配找到的第一个元素
				$("#b1").click(function(){
					$("div:first").css("background","#0000FF");
				})
				
				// 匹配找到的最后一个元素
				$("#b2").click(function(){
					$("div:last").css("background","#0000FF");
				})
				
				// 去除所有与给定选择器匹配的元素
				$("#b3").click(function(){
					$("div:not(.one)").css("background","#0000FF");
				})
				
				// 匹配所有索引值为偶数的元素
				$("#b4").click(function(){
					$("div:even").css("background","#0000FF")
				})
				
				// 匹配所有索引值为奇数的元素
				$("#b5").click(function(){
					$("div:odd").css("background","#0000FF")
				})
				
				// 匹配所有大于给定索引值的元素
				$("#b6").click(function(){
					$("div:gt(3)").css("background","#0000FF")
				})
				
				// 匹配一个给定索引值的元素
				$("#b7").click(function(){
					$("div:eq(3)").css("background","#0000FF")
				})
				
				// 匹配所有小于给定索引值的元素
				$("#b8").click(function(){
					$("div:lt(3)").css("background","#0000FF")
				})
				
				// 匹配如 h1, h2, h3 之类的标题元素
				$("#b9").click(function(){
					$(":header").css("background","#0000FF")
				})
		
			})
		</script>
	</head>
	<body>
		<h1>H1 标题</h1>
		<h2>H2 标题</h2>
		<h3>H3 标题</h3> 
		<input type="button" value="改变第一个 div 元素的背景色为 #0000FF" id="b1" /> 
		<input type="button" value="改变最后一个 div 元素的背景色为 #0000FF" id="b2" /> 
		<input type="button" value=" 改变 class 不为 one 的所有 div 元素的背景色为 #0000FF" id="b3" /> 
		<input type="button" value=" 改变索引值为偶数的 div 元素的背景色为 #0000FF" id="b4" /> 
		<input type="button" value=" 改变索引值为奇数的 div 元素的背景色为 #0000FF" id="b5" /> 
		<input type="button" value=" 改变 索引 值为大 于 3 的 div 元素 的背 景色为 #0000FF" id="b6" /> 
		<input type="button" value=" 改变 索引 值为等 于 3 的 div 元素 的背 景色为 #0000FF" id="b7" /> 
		<input type="button" value=" 改变 索引 值为小 于 3 的 div 元素 的背 景色为 #0000FF" id="b8" /> 
		<input type="button" value=" 改变所有的标题元素的背景色为 #0000FF" id="b9" /><hr />
		<div id="one" class="mini"> div id 为 one</div>
		<div id="two"> div id 为 two 
			<div id="two01"> id two01 </div>
			<div id="two02"> id two02 </div>
		</div>
		<div id="three" class="one"> div id 为 three class one 
			<div id="three01"> id three01 </div>
		</div>
	</body>
</html>
```

#### 内容过滤选择器

内容过滤选择器的过滤规则主要体现在它所包含的子元素和文本内容上

![image-20220509172506913](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220509172506913.png)

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>内容过滤选择器应用实例</title>
		<style type="text/css">
			div,
			span {
				width: 140px;
				height: 140px;
				margin: 20px;
				background: #9999CC;
				border: #000 1px solid;
				float: left;
				font-size: 17px;
				font-family: Roman;
			}

			div.mini {
				width: 80px;
				height: 30px;
				background: #CC66FF;
				border: #000 1px solid;
				font-size: 12px;
				font-family: Roman;
			}
		</style>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				// 匹配包含给定文本的元素
				$("#b1").click(function(){
					$("div:contains('di')").css("background","black")
				})
				
				// 匹配所有不包含子元素或者文本的空元素
				$("#b2").click(function(){
					$("div:empty").css("background","pink");
				})
				
				// 匹配含有选择器所匹配的元素的元素
				$("#b3").click(function(){
					// 含有class=.mini元素的父元素
					$("div:has(.mini)").css("background","green");
				})
				
				// 匹配含有子元素或者文本的元素
				$("#b4").click(function(){
					$("div:parent").css("background","yellow");
				})
			})
		</script>
	</head>
	<body> 
		<input type="button" value="改变含有文本 ‘di’ 的 div 元素的背景色为 black" id="b1" /><br/>
		<input type="button" value="改变不包含子元素(或者文本元素) 的 div 的背景色为 pink" id="b2" /><br/>
		<input type="button" value=" 改变含有 class 为 mini 元素的 div 元素的背景色为 green" id="b3" /><br/> 
		<input type="button" value=" 改变含有子元素(或者文本元素)的 div 元素的背景色为 yellow" id="b4" /><br/> 
		<div id="xxxx">
			<div id="one" class="mini"> div id 为 one </div>
		</div>
		<div id="two"> div id 为 two 
			<div id="two01"> id two01 </div>
			<div id="two02"> id two02 </div>
		</div>
		<div id="three" class="one"> div id 为 three class one 
			<div id="three01"> id three01</div>
		</div>
		<div id="four" class="one"> XXXXXXXXXX </div>
		<div id="five" class="one"></div>
		<div id="mover"> 执行动画 </div>
	</body>
</html>
```

#### 可见度过滤选择器

可见度过滤选择器是根据元素的可见和不可见状态来选择相应的元素

![image-20220509172915738](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220509172915738.png) 

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>可见度过滤选择器-应用实例</title>
		<style type="text/css">
			div,
			span {
				width: 140px;
				height: 140px;
				margin: 20px;
				background: #9999CC;
				border: #000 1px solid;
				float: left;
				font-size: 17px;
				font-family: Roman;
			}

			div.mini {
				width: 30px;
				height: 30px;
				background: #CC66FF;
				border: #000 1px solid;
				font-size: 12px;
				font-family: Roman;
			}

			div.visible {
				display: none;
			}
		</style>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				// 匹配所有的可见元素
				$("#b1").click(function(){
					$("div:visible").css("background","#0000FF");
				})
				
				// 匹配所有的不可见元素,利用 jQuery 中的 show() 方法将它们显示出来
				$("#b2").click(function(){
					$("div:hidden").css("background","#0000FF").show();
				})
				
				
				// 选取所有的文本隐藏域, 并打印它们的值
				$("#b3").click(function(){
					var $inputs = $("input:hidden");
					// 方式一: for
					for(i=0;i<$inputs.length;i++){
						// dom对象
						var input = $inputs[i];
						alert(input.value);
					}
					// 方式二: foreach
				    $inputs.each(function(){
						// this表示每次遍历取到的dom对象
						alert(this.value);
					})
				})
			})
		</script>
	</head>
	<body> 
		<input type="button" value="改变所有可见的 div 元素的背景色为 #0000FF" id="b1" /><br/>
		<input type="button" value="选取所有不可见的 div, 利用 jQuery 中的 show() 方法将它们显示出来, 并设置其背景色为 #0000FF" id="b2"/><br/>
		<input type="button" value="选取所有的文本隐藏域, 并打印它们的值" id="b3"/><br/><hr/> 
		<input type="hidden" value="hidden1" /> 
		<input type="hidden" value="hidden2" /> 
		<input type="hidden" value="hidden3" /> 
		<input type="hidden" value="hidden4" />
		<div id="one" class="visible"> div id 为 one </div>
		<div id="two" class="visible"> div id 为 two </div>
		<div id="three" class="one"> div id 为 three </div>
	</body>
</html>
```

#### 属性过滤选择器

属性过滤选择器的过滤规则是通过元素的属性来获取相应的元素

![image-20220509194500268](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220509194500268.png)

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>属性过滤选择器-应用实例</title>
		<style type="text/css">
			div,span {
				width: 140px;
				height: 140px;
				margin: 20px;
				background: #9999CC;
				border: #000 1px solid;
				float: left;
				font-size: 17px;
				font-family: Roman;
			}

			div.mini {
				width: 30px;
				height: 30px;
				background: #CC66FF;
				border: #000 1px solid;
				font-size: 12px;
				font-family: Roman;
			}

			div.visible {
				display: none;
			}
		</style>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				// 匹配包含给定属性的元素
				$("#b1").click(function(){
					$("div[title]").css("background","black");
				})
				
				// 匹配给定的属性是某个特定值的元素
				$("#b2").click(function(){
					$("div[title=test]").css("background","black");
				})
				
				// 匹配所有不含有指定的属性，或者属性不等于特定值的元素
				$("#b3").click(function(){
					$("div[title!=test]").css("background","black");
				})
				
				// 匹配给定的属性是以某些值开始的元素
				$("#b4").click(function(){
					$("div[title^=te]").css("background","black");
				})
				
				// 匹配给定的属性是以某些值结尾的元素
				$("#b5").click(function(){
					$("div[title$=est]").css("background","black");
				})
				
				// 匹配给定的属性是以包含某些值的元素
				$("#b6").click(function(){
					$("div[title*=es]").css("background","black");
				})
				
				// 复合属性选择器,需要同时满足多个条件时使用.是一个组合
				$("#b7").click(function(){
					$("div[id][title*=es]").css("background","black");
				})
			})
		</script>
	</head>
	<body> 
		<input type="button" value="含有属性 title 的 div 元素" id="b1"/><br/>
		<input type="button" value="属性 title 值等于 test 的 div 元素" id="b2"/><br/>
		<input type="button" value="属性 title 值不等于 test 的 div 元素(没有属性 title 的也将被选中)" id="b3"/><br/>
		<input type="button" value="属性 title 值 以 te 开始 的 div 元素" id="b4"/><br/> 
		<input type="button" value="属性 title 值 以 est 结束 的 div 元素" id="b5"/><br/> 
		<input type="button" value="属性 title 值 含有 es 的 div 元素" id="b6"/><br/>
		<input type="button" value="选取有属性 id 的 div 元素，然后在结果中选取属性 title 值含有“es”的 div 元素" id="b7"/><br/>
		<div id="one" title="test"> div id 为 one test </div>
		<div id="one-1" title="texxx"> div id 为 one-1 texxx </div>
		<div id="one-2" title="xxxest"> div id 为 one-2 xxxest </div>
		<div id="one-3" title="xxxesxxxxxt"> div id 为 one-3 xxxesxxxxxt </div>
		<div id="two" title="ate"> div id 为 two </div>
		<div id="three" class="one"> div id 为 three </div>
		<div title="test" class="one"> no id</div>
	</body>
</html>
```

#### 子元素过滤选择器

![image-20220509200612415](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220509200612415.png)

```java
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>子元素过滤选择器示例-应用实例</title>
		<style type="text/css">
			div,
			span {
				width: 140px;
				height: 70px;
				margin: 20px;
				background: #9999CC;
				border: #000 1px solid;
				float: left;
				font-size: 17px;
				font-family: Roman;
			}

			div.visible {
				display: none;
			}
		</style>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				// :nth-child(index/even/odd/equation)
				// 匹配其父元素下的第 N 个子或奇偶元素
				$("#b1").click(function(){
					$("div .one:nth-child(2)").css("background","green");
				})
				
				// 匹配第一个子元素
				$("#b2").click(function(){
					$("div .one:first-child").css("background","green");
				})
				
				// 匹配最后一个子元素
				$("#b3").click(function(){
					$("div .one:last-child").css("background","green");
				})
				
				// 只有一个子元素的才会被匹配
				$("#b4").click(function(){
					$("div .one:only-child").css("background","green");
				})
			})
		</script>
	</head>
	<body> 
		<input type="button" value="每个 class 为 one 的 div 父元素下的第 2 个子元素" id="b1"/><br/> 
		<input type="button" value="每个 class 为 one 的 div 父元素下的第一个子元素" id="b2"/><br/> 
		<input type="button" value=" 每 个 class 为 one 的 div 父 元 素 下 的 最 后 一 个 子 元 素 " id="b3"/><br/>
		<input type="button" value="如果 class 为 one 的 div 父元素下的仅仅只有一个子元素，那么选中这 个子元素" id="b4"/><br/>
		<div class="one">
			<div id="one" class="one"> XXXXXXXXX id=one </div>
			<div id="two" class="one"> XXXXXXXXX id=two </div>
			<div id="three" class="one"> XXXXXXXXX id=three </div>
			<div id="four" class="one"> XXXXXXXXX id=four </div>
		</div>
		<div class="one">
			<div id="five" class="one"> XXXXXXXXX id=five </div>
		</div>
	</body>
</html>
```

#### 表单属性过滤选择器

此选择器主要对所选择的表单元素进行过滤

![image-20220509204348392](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220509204348392.png)

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>表单对象属性过滤选择器-应用实例</title>
		<style type="text/css">
			div,
			span {
				width: 140px;
				height: 140px;
				margin: 20px;
				background: #9999CC;
				border: #000 1px solid;
				float: left;
				font-size: 17px;
				font-family: Roman;
			}
		</style>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				// 匹配所有可用元素
				$("#b1").click(function(){
					// 方式一
					$("input[type='text']:enabled").val("足球1");
					// 方式二
					var $input = $("input[type=text]:enabled");
					$input.each(function(){
						$(this).val("足球1");
					})
				})
				
				// 匹配所有不可用元素
				$("#b2").click(function(){
					var $input = $("input[type=text]:disabled");
					$input.each(function(){
						$(this).val("排球1");
					})
				})
				
				// 匹配所有选中的被选中元素(复选框、单选框等）
				$("#b3").click(function(){
					alert($("input[type='checkbox']:checked").length);
				})
				
				// 匹配所有选中的 option 元素
				$("#b4").click(function(){
					var $options = $("select option:checked");
					$options.each(function(){
						alert(this.value);
					})
				})
			})
		</script>
	</head>
	<body> 
		<input type="button" value="利用 jQuery 对象的 val() 方法改变表单内 type=text 可用 <input> 元素的值" id="b1"/><br/>
		<input type="button" value="利用 jQuery 对象的 val() 方法改变表单内 type=text 不可用 <input> 元素的值" id="b2"/><br/>
		<input type="button" value="利用 jQuery 对象的 length 属性获取多选框选中的个数 " id="b3"/><br/>
		<input type="button" value="利用 jQuery 对象的 text() 方法获取下拉框选中的内容 " id="b4"/><br/>
		<input type="text" value="篮球 1" /> 
		<input type="text" value="篮球 2" /> 
		<input type="text" value="篮球 3" disabled="true" /> 
		<input type="text" value="篮球 4" disabled="true" /><br>
		<h1>选择你的爱好</h1> 
			<input type="checkbox" value="爱好 1" />爱好 1 
			<input type="checkbox" value="爱好 2" />爱好 2
			<input type="checkbox" value="爱好 3" />爱好 3 
			<input type="checkbox" value="爱好 4" />爱好 4<br>
		<h1>选项如下:</h1> 
			<select name="job" size=9 multiple="multiple">
				<option value="选项 1">选项 1^^</option>
				<option value="选项 2">选项 2^^</option>
				<option value="选项 3">选项 3^^</option>
				<option value="选项 4">选项 4^^</option>
				<option value="选项 5">选项 5^^</option>
				<option value="选项 6">选项 6^^</option>
			</select> 
			<select id="hsp" name="edu">
				<option value="博士">博士^^</option>
				<option value="硕士">硕士^^</option>
				<option value="本科">本科^^</option>
				<option value="小学">小学^^</option>
			</select>
	</body> 
</html>
```

#### 表单选择器

![image-20220509211831402](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220509211831402.png) 

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>表单选择器-应用实例</title>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				alert($(":button").length); // 3
				alert($("button").length); // 2
				alert($("input[type=button]").length) // 1
			})
		</script>
	</head>
	<body>
		<form>
			<input type="text" /><br /> 
			<input type="checkbox"/><br/> 
			<input type="radio" /><br /> 
			<input type="image" src="./imgs/1.png" height="100" /><br/> 
			<input type="file"/><br/> 
			<input type="submit"/><br/>
			<input type="reset"/><br/> 
			<input type="password"/><br/> 
			<input type="button" value="按钮 1"/><br/>
			<select>
				<option/>
			</select><br/>
			<textarea></textarea><br/> 
			<button>按钮 2</button> 
			<button>按钮 3</button> 
		</form>
	</body>
</html>
```



### JQuery的DOM操作

#### 查找节点, 修改属性

查找属性节点: 查找到所需要的元素之后, 可以调用 jQuery 对象的 attr() 方法来获取 它的各种属性值

![image-20220510113339169](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220510113339169.png) 

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>操作节点的属性</title>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				$("button").click(function(){
					$("img").attr("src","./imgs/2.png");
				})
			})
		</script>
	</head>
	<body> <img src="./imgs/1.png" height="100"/> <br/> 
	<button>改变图片</button> </body>
</html>
```

#### 创建节点

创建节点: 使用 jQuery 的工厂函数 $(): $(html标签); 会根据传入的 html 标记字符串 创建一个 jQuery 对象, 并返回

第1组方法(内部插入法)

插入的元素是原来的元素的子元素

- append(content) :向每个匹配的元素的内部的结尾处追加内容
- appendTo(content) :将每个匹配的元素追加到指定的元素中的内部结尾处
- prepend(content):向每个匹配的元素的内部的开始处插入内容
- prependTo(content) :将每个匹配的元素插入到指定的元素内部的

第2组方法(外部插入法)

插入的元素是原来的元素的兄弟元素

- after(content) :在每个匹配的元素之后插入内容
- before(content):在每个匹配的元素之前插入内容
- insertAfter(content):把所有匹配的元素插入到另一个、指定的元素元素集合的后面
- insertBefore(content) :把所有匹配的元素插入到另一个、指定的元素元素集合的前面

![image-20220510133402106](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220510133402106.png) 

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>创建节点-应用实例</title>
		<style type="text/css">
			div,span {
				width: 140px;
				height: 140px;
				margin: 20px;
				background: #9999CC;
				border: #000 1px solid;
				float: left;
				font-size: 17px;
				font-family: Roman;
			}
			div.mini {
				width: 30px;
				height: 30px;
				background: #CC66FF;
				border: #000 1px solid;
				font-size: 12px;
				font-family: Roman;
			}
		</style>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			// 使用 dom 的传统方法
			var test1 = function(){
				var li = document.createElement("li");
				li.setAttribute("id","cq");
				li.setAttribute("name","chongqing");
				li.innerText = "重庆";
				document.getElementById("sh").append(li);
			}
			
			$(function(){
				$("#b2").click(function(){
					$li = $("<li id='cq' name='chongqing'>重庆</li>");
					// 外部插入法
					$("#sh").after($li);
					$li.insertAfter("#sh");
				})	
				
				$("#b3").click(function(){
					$li = $("<li id='cd' name='chengdu'>成都</li>");
					// 外部插入法
					$("#bj").before($li);
				})	
			})
		</script>
	</head>
	<body>
		<ul id="city">
			<li id="bj" name="beijing">北京</li>
			<li id="sh" name="shanghai">上海</li>
			<li id="jl" name="jilin">吉林</li>
			<li id="my" name="mianyang">绵阳</li>
		</ul>
		<input type="button" id="b1" onclick="test1()" value="添加重庆 li 到上海下(使用 dom 的传统方法)"/><br/>
		<input type="button" id="b2" value="添加重庆 li 到上海下"/><br/>
		<input type="button" id="b3" value="添加成都 li 到北京前"/><br/>
	</body>
</html>
```

#### 删除节点

- remove(): 从 DOM 中删除所有匹配的元素, 传入的参数用于根据 jQuery 表达式来筛选元素. 当某个节点用 remove() 方法删除后, 该节点所包含的所有后代节点将被同时删除. 这个方法的返回值是一个指向已被删除的节点的引用
- empty():  清空元素中的所有后代节点(不包含属性节点)

![image-20220510141207856](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220510141207856.png) 

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>删除节点-应用实例</title>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				$("#b1").click(function(){
					$("p").remove();
				})
				
				$("#b2").click(function(){
					$("p").empty();
				})
				
				$("#b3").click(function(){
					$("#sh").remove();
				})
			})
		</script>
	</head>
	<body> 您喜欢的城市:<br>
		<ul id="city">
			<li id="bj" name="beijing">北京</li>
			<li id="sh" name="shanghai">上海</li>
			<li id="tj" name="tianjin">天津</li>
		</ul> 您爱好的游戏:<br>
		<ul id="game">
			<li id="fk" name="fakong">反恐</li>
			<li id="cq" name="chuangqi">传奇</li>
		</ul>
		<p>Hello</p> how are <p>you?</p>
		<p name="test">Hello, 
			<span>Person</span> 
			<a href="#">and person</a>
		</p> 
		<input type="button" value="删除所有p" id="b1"/>
		<input type="button" value="所有p清空" id="b2"/> 
		<input type="button" value="删除上海这个li" id="b3"/>
	</body>
</html>
```

#### 复制节点

- clone(): 克隆匹配的 DOM 元素, 返回值为克隆后的副本. 但此时复制的新节点不具有任何行为
- clone(true): 复制元素的同时也复制元素中的的事件

![image-20220510142258686](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220510142258686.png) 

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>复制节点-应用实例</title>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				$("p").click(function(){
					alert($(this).text());
				})
				// 复制元素但不复制元素中的事件
				$("p").clone().insertAfter($("button"));
				// 复制元素的同时也复制元素中的的事件
				$("p").clone(true).insertAfter($("button"))
			})
		</script>
	</head>
	<body> 
		<button>保存</button> 
		<br><br><br><br>
		<br>-------------------------------------<br>
		<p>段落 1</p>
		<p>段落 2</p>
		<p>段落 3</p>
		<p>段落 4</p>
		<p>段落 5</p>
	</body>
</html>
```

#### 替换节点

- replaceWith(): 将所有匹配的元素都替换为指定的 HTML 或 DOM/juqery 元素 A.replaceWith(B) 
- replaceAll(): 颠倒了的 replaceWith() 调用方法,A.replaceAll(B)   ==    B.replaceWith(A) 

![image-20220510145641455](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220510145641455.png) 

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>替换节点-应用实例</title>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				// 将 p 替换成 button
				// $("p").replaceWith("<input type='button' id='btn' value='按钮'/>")
				// $("<input type='button' id='btn' value='按钮'/>").replaceAll("p");
			})
		</script>
	</head>
	<body>
		<h1>节点替换</h1>
		<p>Hello</p>
		<p>jquery</p>
		<p>World</p>
	</body>
</html>
```

#### 属性操作

- attr(): 获取属性和设置属性 
- attr()传递一个参数时, 即为某元素的获取指定属性 
- attr()传递两个参数时, 即为某元素设置指定属性的值 
- removeAttr(): 删除指定元素的指定属性

#### 样式操作

- 获取 class 和设置 class : class 是元素的一个属性, 所以获取 class 和设置 class 都可 以使用 attr() 方法来完成.
- 追加样式: addClass()
- 移除样式: removeClass() --- 从匹配的元素中删除全部或指定的 class
- 切换样式: toggleClass() --- 控制样式上的重复切换.如果类名存在则删除它, 如果类名 不存在则添加它
- 判断是否含有某个样式: hasClass() --- 判断元素中是否含有某个 class, 如果有, 则返回 true; 否则返回 false

![image-20220510184056104](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220510184056104.png)

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>查找节点</title>
		<style type="text/css">
			div {
				width: 140px;
				height: 140px;
				margin: 20px;
				float: left;
				border: #000 1px solid;
			}

			.one {
				width: 140px;
				height: 140px;
				margin: 20px;
				background: #9999CC;
				border: #000 1px solid;
				float: left;
				font-size: 17px;
				font-family: Roman;
			}
		</style>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				// 获取 class 和设置 class: class 是元素的一个属性
				$("#b1").click(function(){
					$("#first").attr("class","one");
				})
				
				// 追加样式
				$("#b2").click(function(){
					$("#first").addClass("one");
				})
				
				// 移除样式
				$("#b3").click(function(){
					$("#first").removeClass("one");
				})
				
				// 切换样式
				$("#b4").click(function(){
					$("#first").toggleClass("one");
				})
				
				// 判断是否含有某个样式
				$("#b5").click(function(){
					alert($("#first").hasClass("one"));
				})
			})
		</script>
	</head>
	<body> 
		<input type="button" value="获取 class 和设置 class 都可以使用 attr() 方法来完成(给id为first添加.one 样式)" id="b1"/><br/>
		<input type="button" value=" 追加样式 : addClass() ( 给 id 为 first 添 加 .one 样 式 )"id="b2"/><br/> 
		<input type="button" value="移除样式: removeClass() --- 从匹配的元素中删除全部或指定的 class(给 id 为 first 删除 .one 样式) " id="b3"/><br/>
		<input type="button" value="切换样式: toggleClass() (给 id 为 first 切换 .one 样式) --- 控制样式上的重复切 换.如果类名存在则删除它, 如果类名不存在则添加它" id="b4"/><br/> 
		<input type="button" value="判断是否含有某个样式: hasClass() --- 判断元素中是否含有某个 class, 如果有, 则返回 true; 否则返回 false" id="b5"/><br/>
		<div id="first">first</div>
		<div id="second">second</div>
	</body>
</html>
```

#### 常用遍历节点方法

- 取得匹配元素的所有子元素组成的集合: children(). 该方法只考虑子元素而不考虑任何 后代元素
- 取得匹配元素后面的同辈元素的集合:next()/nextAll()
- 取得匹配元素前面的同辈元素的集合:prev()/prevAll()
- 取得匹配元素前后所有的同辈元素: siblings() 
- 获取指定的第几个元素: nextAll().eq(index)
- 对获取到的同辈元素进行过滤 nextAll().filter("标签")



### CSS-DOM 操作 

![image-20220510232252625](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220510232252625.png)  

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>css-dom 操作</title>
		<script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
		<script type="text/javascript">
			$(function(){
				$("button").click(function(){
					var offset = $("img").offset();
					alert("上边: " + offset.top + " 左边：" +  offset.left);
				})
			})
		</script>
	</head>
	<body> 
		<br/>hello,world~
		<img src="./imgS/1.png" width="200"> 
		<button id="b1" type="button">获取图片信息</button> 
	</body>
</html>
```



## 数据交换 JSON

### 概述

[json在线文档](https://www.w3school.com.cn/js/js_json_intro.asp)

JSON 指的是 JavaScript 对象表示法，也是轻量级的文本数据交换格式

**JSON的定义格式**

```json
var 变量名 = { 
    "k1" : value, // Number 类型 
    "k2" : "value", // 字符串类型
    "k3" : [], // 数组类型 
    "k4" : {}, // json 对象类型 
    "k5" : [{},{}] // json 数组 
};
```

**代码示例**

![image-20220511113607261](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220511113607261.png) 

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>json 快速入门案例</title>
		<script type="text/javascript">
			var myJson = {
				"key1": "罗念笙", // 字符串 
				"key2": 123, // Number 
				"key3": [1, "hello", 2.3], // 数组 
				"key4": {"age": 12, "name": "jack"}, //json 对象 
				"key5": [ //json 数组 
				{"k1": 10, "k2": "tom"}, 
				{"k3": 30, "k4": "smith"} ] ,
			};
			// 访问 json 的属性 
			console.log("key1= " + myJson.key1); // 罗念笙
			console.log("key1= " + myJson.key2);  // 123
			// 访问 json 的数组属性 
			console.log("key3[1]= " + myJson.key3[1]);  //  hello
			// 访问 key4 的 name 属性 
			console.log("name= " , myJson.key4);  // name=  {age: 12, name: 'jack'}
			console.log("name= " + myJson.key4);  // name= [object Object]
			console.log("name= " + myJson.key4.name); // jack
			// 访问 key5 json 数组的第一个元素 
			console.log("myJson.key5[0]= " + myJson.key5[0]); //[object, object] 
			console.log("myJson.key5[0].k2= " + myJson.key5[0].k2) // tom
		</script>
	</head>
	<body>
		<h1>json 快速入门案例</h1>
	</body>
</html>
```

### JSON 对象和字符串对象转换 

- JSON.stringify(json)功能: 将一个 json 对象转换成为 json 字符串
- JSON.parse( jsonString )功能: 将一个 json 字符串转换成为 json 对象

**代码示例**

![image-20220511115229117](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220511115229117.png) 

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>JSON 对象和字符串对象转换</title>
		<script type="text/javascript">
			//JSON 是一个 build-in 对象,内置对象
			console.log(JSON) 
			
			// json 对象 
			var jsonObj = {"name": "罗念笙","age": 18}; 
			console.log("json 对象 " , jsonObj);
		
			// 把 json 对象转换成为字符串对象 
			var jsonStr = JSON.stringify(jsonObj); 
			console.log("字符串: " + jsonStr); 
			
			// 把 json 对象的字符串，转换成为 json 对象 
			var jsonObj2 = JSON.parse(jsonStr); 
			console.log("json 对象 " , jsonObj2); 
		</script>
	</head>
	<body>
		<h1>JSON 对象和字符串对象转换</h1>
	</body>
</html>
```

**注意细节**

- 在定义 Json 对象时, key值可以使用 ' ' 或者 " "表示字符串,甚至可以不用加引号

    - var json_person = {"name": "jack", "age": 100};
    - var json_person = {'name': ’jack‘, 'age': 100};
    - var json_person = {name: "jack", age: 100};

- 但是把原生字符串转成 json 对象时, 必须使用 "", 否则会报错

    ```json
    var str = "{\"name\": \"罗念笙\",\"age\": 18}"
    console.log("json 对象 " , JSON.parse(str)); 
    ```

- JSON.springify(json 对象) 返回的字符串, 都是 "" 表示的字符串, 是可以重新转成 json 对象

### JSON 在 java 中使用

- java 中使用 json，需要引入的包 gson.jar 
- Gson 是 Google 提供的用来在 Java 对象和 JSON 数据之间进行映射的 Java 类库
- JSON 字符串 和 Java 对象之间相互转换

![image-20220511131709778](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220511131709778.png) 

#### Javabean 对象和 json 字符串 的转换 

 JavaBean

```java
public class Book {
    private Integer id;
    private String name;

    public Book() {
    }

    public Book(Integer id, String name) {
        this.id = id;
        this.name = name;
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    @Override
    public String toString() {
        return "Book{" +
                "id=" + id +
                ", name='" + name + '\'' +
                '}';
    }
}
```

```java
public class JavaJson {
    public static void main(String[] args) {
        // Gson 是 Google 提供的用来在 Java 对象和 JSON 数据之间进行映射的 Java 类库
        Gson gson = new Gson();
        // 创建javabean对象
        Book book = new Book(1, "红楼梦");
        // Javabean 对象 => json 字符串
        String s = gson.toJson(book);
        System.out.println(s); // {"id":1,"name":"红楼梦"}
        // json 字符串 =>  Javabean 对象
        String str = "{\"id\": 2 , \"name\" : \"水浒传\" }";
        Book book2 = gson.fromJson(str, Book.class);
        System.out.println(book2); // Book{id=2, name='水浒传'}
    }
}
```

#### List 对象和 json 字符串 的转换 

```java
public class LIstJson {
    public static void main(String[] args) {
        Gson gson = new Gson();
        // List 对象和 json 字符串 的转换
        List<Book> list = new ArrayList<>();
        // 添加4本书
        list.add(new Book(1,"红楼梦"));
        list.add(new Book(2,"三国演义"));
        list.add(new Book(3,"水浒传"));
        list.add(new Book(4,"西游记"));

        // List 对象 => json 字符串
        String s = gson.toJson(list);
        System.out.println(s);

        // json 字符串 => List 对象
        String listBook = "[{\"id\":1,\"name\":\"红楼梦\"},{\"id\":2,\"name\":\"三国演义\"}," +
            "{\"id\":3,\"name\":\"水浒传\"},{\"id\":4,\"name\":\"西游记\"}]";
        // TypeToken 是一个自定义泛型类,在创建时，需要指定具体类型,这里我们指定为 List<Book>
        // type:java.util.List<com.al_tair.Book>
        // 创建TypeToken<List<Book>>(){}匿名内部类,默认调用无参构造器中的super构造器,才可以访问受保护的TypeToken构造器
        Type type = new TypeToken<List<Book>>(){}.getType();
        List<Book> listJson = gson.fromJson(listBook, type);
        System.out.println(listJson);
    }
}
```

#### map 对象和 json 字符串 的转换

```java
public class MapJson {
    public static void main(String[] args) {
        Gson gson = new Gson();
        // Map 对象和 json 字符串 的转换
        Map<Integer,Book> map = new HashMap();
        // 添加4本书
        map.put(1,new Book(1,"红楼梦"));
        map.put(2,new Book(2,"三国演义"));
        map.put(3,new Book(3,"水浒传"));
        map.put(4,new Book(4,"西游记"));

        //  Map 对象 => json 字符串
        String s = gson.toJson(map);
        System.out.println(s);

        // json 字符串 => Map 对象
        String mapBook = "{\"1\":{\"id\":1,\"name\":\"红楼梦\"},\"2\":{\"id\":" +
            "2,\"name\":\"三国演义\"},\"3\":{\"id\":3,\"name\":\"水浒传\"},\"4\":{\"id\":4,\"name\":\"西游记\"}}";

        Type type = new TypeToken<Map<Integer, Book>>() {}.getType();
        Map<Integer,Book> bookMap = gson.fromJson(mapBook, type);
        System.out.println(bookMap);
    }
}
```



## 异步请求 AJAX

### 概述

[ajax在线文档](https://www.w3school.com.cn/js/js_ajax_intro.asp)

Ajax 是一种浏览器**异步**发起请求(指定发哪些数据)，局部更新页面的技术

**Ajax 经典应用场景**

- 搜索引擎根据用户输入关键字，自动提示检索关键字 
- 动态加载数据，按需取得数据【树形菜单、联动菜单等】
- 改善用户体验【输入内容前提示、带进度条文件上传等】 
- 电子商务应用【购物车、邮件订阅等】 
- 访问第三方服务【访问搜索服务、rss 阅读器】
- 页面局部刷新

### 使用Ajax数据通讯框架图

优点：可以通过XMLHttpRequest对象，发送指定数据，速度快；可以异步发送请求（无需等待）；可以进行局部页面刷新，提高用户的体验

![image-20220511164142852](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220511164142852.png) 

### JavaScript 原生 Ajax 请求

**应用实例-验证用户名是否存在**

1) 在输入框输入用户名
2) 点击验证用户名, 使用 ajax 方式， 服务端验证该用户名是否已经占用了
3) 如果该用户(tom) 已经占用, 以 json 格式返回该用户信息
4) 对页面进行局部刷新, 显示返回信息

![image-20220511194944263](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220511194944263.png) 

```html
<%--
  Created by IntelliJ IDEA.
  User: 罗念笙
  version: 1.0
  Date: 2022/5/11
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>用户注册</title>
        <script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
        <script type="text/javascript">
            $(function () {
                $("#btn").click(function () {
                    // 创建XMLHttpRequest对象【ajax引擎对象】
                    var xhttp = new XMLHttpRequest();

                    // open 请求行
                    // "POST" 指请求方法
                    // 中间的字符串指url
                    // true指的是异步请求,false指的是同步请求
                    xhttp.open("POST","<%= application.getContextPath()%>/checkUser",true);
                    // 一般使用 POST 发送请求时都必须设置该选项，否则服务器无法识别传递过来的数据
                    xhttp.setRequestHeader ('Content-type', 'application/x-www-form-urlencoded'); // 设置为表单方式提交
                    // 真正的发送请求（本质就是http请求）
                    xhttp.send("username=" + $("#uname").val());

                    // 处理ajax请求
                    xhttp.onreadystatechange = function() {
                        console.log(xhttp);
                        if (this.readyState == 4 && this.status == 200) {
                            document.getElementById("div1").innerText = xhttp.responseText;
                        }
                    };
                })
            })
        </script>
    </head>
    <body>
        <h1>用户注册</h1>
        <form action="<%= application.getContextPath()%>/checkUser" method="post">
            用户名字  <input type="text" name="username" id="uname">
                    <input type="button" id="btn" value="验证用户名"/>
                    <input style="border-width: 0;color: red" type="text" id="myres"><br/>
            用户密码:<input type="password" name="password"><br/>
            电子邮件:<input type="text" name="email"><br/>
            <input type="submit" value="用户注册">
        </form>
        <h1>返回的 json 数据</h1>
        <div id="div1"></div>
    </body>
</html>
```

```java
/**
 * @author Al_tair
 * @date 2022/5/11-16:59
 */
public class CheckUserServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setCharacterEncoding("utf-8");
        String username = req.getParameter("username");
        System.out.println(username);

        // 假定用户名为 tom被占用
        if("tom".equals(username)){
            System.out.println("该用户有被占用");
            Gson gson = new Gson();
            User user = new User(1, "tom", "123456", "1079998564@qq.com");
            String userJson = gson.toJson(user);
            PrintWriter writer = resp.getWriter();
            writer.write(userJson);
            writer.flush();
            writer.close();
        }else{
            System.out.println("该用户没有被占用");
        }
    }
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}
```



### JQuery 的 Ajax 请求

![image-20220511233811448](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220511233811448.png) 

#### $.ajax 方法 

● url： 请求的地址

● type : 请求的方式 get 或 post 

● data : 发送到服务器的数据。将自动转换为请求字符串格式 

● success: 成功的回调函数 

● error: 失败后的回调函数 

● dataType: 返回的数据类型 常用 json 或 text

注意：$.get 请求，$.post 请求和$.getJSON本质都是使用$.ajax 方法实现异步请求

```jsp
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>用户注册</title>
        <script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
        <script type="text/javascript">
            $(function () {
                $("#btn").click(function () {
                    // 发出Ajax请求
                    $.ajax({
                            // 请求地址
                        	url:"<%= application.getContextPath()%>/checkUser",
                        	// 请求方法
                            type:"POST",
                            // 发送到服务器的数据
                            data:{
                        		 // JSON格式
                        		 username:$("#uname").val(),
                                  date: new Date() 
                		   },
                            error:function () {
                                alert("error");
                            },
                            success:function () {
                               alert("success");
                            },
                            // 返回数据类型 
                            dataType:"json"
                    })
                })
            })
        </script>
    </head>
    <body>
        <h1>用户注册</h1>
        <form action="<%= application.getContextPath()%>/checkUser" method="post">
            用户名字  <input type="text" name="username" id="uname">
                    <input type="button" id="btn" value="验证用户名"/>
                    <input style="border-width: 0;color: red" type="text" id="myres"><br/>
            用户密码:<input type="password" name="password"><br/>
            电子邮件:<input type="text" name="email"><br/>
            <input type="submit" value="用户注册">
        </form>
        <h1>返回的 json 数据</h1>
        <div id="div1"></div>
    </body>
</html>
```

#### $.get 请求和$.post 请求(使用较多)

- url: 请求的 URL 地址 
- data: 请求发送到服务器的数据
- success: 成功时回调函数
- type: 返回内容格式，xml, html, script, json, text

```jsp
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户注册</title>
    <script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        $(function(){
            $("#btn").click(function(){
                $.post(
                    "<%= application.getContextPath()%>/checkUser",
                    {
                        username:$("#uname").val(),
                        date: new Date()
                    },
                    function (data,status,XHttp) {
                        if("" == data.name){
                            $("#myres").val("用户可用");
                        }else{
                            $("#myres").val("用户被占用");
                        }
                        $("#div1").html(JSON.stringify(data));
                    },
                    "json"
                )
            
                $.get(
                        "<%= application.getContextPath()%>/checkUser",
                        {
                            username:$("#uname").val(),
                            date: new Date()
                        },
                        function (data,status,XHttp) {
                            if("" == data.name){
                                $("#myres").val("用户可用");
                            }else{
                                $("#myres").val("用户被占用");
                            }
                            $("#div1").html(JSON.stringify(data));
                        },
                        "json"
                    )
            })
        })
    </script>
</head>
<body>
<h1>用户注册</h1>
<form action="<%= application.getContextPath()%>/checkUser" method="post">
    用户名字  <input type="text" name="username" id="uname">
    <input type="button" id="btn" value="验证用户名"/>
    <input style="border-width: 0;color: red" type="text" id="myres"><br/>
    用户密码:<input type="password" name="password"><br/>
    电子邮件:<input type="text" name="email"><br/>
    <input type="submit" value="用户注册">
</form>
<h1>返回的 json 数据</h1>
<div id="div1"></div>
</body>
</html>
```

#### $.getJSON

- url: 请求发送的哪个 URL 
- data: 请求发送到服务器的数据 
- success: 请求成功时运行的函数

```jsp
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户注册</title>
    <script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        $(function(){
            $("#btn").click(function(){
                // 注意：如果发出get方法的请求并且返回的数据格式是Json格式，就可以使用getJSON
                $.getJSON(
                    "<%= application.getContextPath()%>/checkUser",
                    {
                        username:$("#uname").val(), 
                        date: new Date()
                    },
                    function (data,status,XHttp) {
                        if("" == data.name){
                            $("#myres").val("用户可用");
                        }else{
                            $("#myres").val("用户被占用");
                        }
                        $("#div1").html(JSON.stringify(data));
                    },
                )
            })
        })
    </script>
</head>
<body>
<h1>用户注册</h1>
<form action="<%= application.getContextPath()%>/checkUser" method="post">
    用户名字  <input type="text" name="username" id="uname">
    <input type="button" id="btn" value="验证用户名"/>
    <input style="border-width: 0;color: red" type="text" id="myres"><br/>
    用户密码:<input type="password" name="password"><br/>
    电子邮件:<input type="text" name="email"><br/>
    <input type="submit" value="用户注册">
</form>
<h1>返回的 json 数据</h1>
<div id="div1"></div>
</body>
</html>
```



## ES6

### ES6基本介绍

ECMAScript 6.0(以下简称 ES6)是 JavaScript 语言的下一代标准， 2015 年 6 月发布

ECMAScript 和 JavaScript 的关系（类似接口和类的关系）：

ECMAScript 是 JavaScript 的规范/规则，JavaScript 是 ECMAScript 的一种实现

---

### let变量

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<script type="text/javascript">
		let name = "罗念笙";
		console.log("name",name); // 逗号：如果是对象，输出对象的完整信息（属性）
		console.log("name"+name); // 加号：如果是对象，只输出Object类型
		// 举例子
		// let l = new Object;
		// l.name = "罗念笙";
		// console.log("name",l); // name {name: '罗念笙'}
		// console.log("name"+l); // name[object Object]
		
		// let注意细节
		// 1. let 声明的变量有严格局部作用域 
		{
			var gender = "男";
			let age = 18;
			console.log(gender); // 男
			console.log(age); // /18
		} 
		console.log(gender); 	// 男
		console.log(age); // age is not defined
		
		// 2. let 只能声明一次, var 可以声明多次 
		let name = "张洛融"; // Identifier 'name' has already been declared
		
		// 3. let 不存在变量提升, var 存在变量提升
		console.log(x); 
		var x;
		
		console.log(y); // Cannot access 'y' before initialization
		let y;
	</script>
	<body>
	</body>
</html>
```

---

### const 声明常量/只读变量

```html
解构赋值<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			// 1. 常量在定义时，需要赋值 
			// 2. 常量赋值后不能修改
			const AGE; // Missing initializer in const declaration
			const PI = 3.14;
			PI = 5.6; // Assignment to constant variable
		</script>
	</head>
	<body>
	</body>
</html>
```

---

### 解构赋值

是一种针对数组或者对象进行模式匹配，然后对其中的变量进行赋值（解构赋值是对赋值运算符的扩展 ）

主要有两种形式： 数组解构和对象解构

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<script type="text/javascript">
		// 数组解构 [ ]
		let arr = [1,2,3];
		let [x,y,z] = arr;
		console.log(x,y,z) // 1 2 3
		
		let [num1,num2,num3] = [100,200,300];
		console.log(num1,num2,num3); // 100 200 300
		
		// 对象解构 { }
		let obj = new Object;
		obj.name = "罗念笙";
		obj.age = 18;
		let{name,age} = obj; // 名称必须和属性名相同，但是顺序无所谓
		console.log(name,age); // 罗念笙 18
		
		function f1({name, age}){  // 名称必须和属性名相同，但是顺序无所谓
			console.log(name,age)  // 罗念笙 18
		}
		f1(obj);
	</script>
	<body>
	</body>
</html>
```

---

### 模板字符串

模板字符串使用反引号 ` 将字符串包裹

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			// 模板字符串使用反引号 ` 将字符串包裹
			// 1.可作为普通字符串
			// 2.可用来定义多行字符串，即可以将换行字符串原生输出
			let str1 = `for(int i=0;i<2;i++){
				System.out.println(i);
			}`
			console.log(str1)	
			
			// 3.字符串插入变量和表达式, 使用 ${}
			let name = "罗念笙";
			let message = `姓名 : ${name}`
			let num1 = 34;
			let num2 = 66;
			let sum = `${num1+num2}`;
			console.log(message); // 姓名 : 罗念笙
			console.log(sum); // 100
			
			// 4.字符串中调用函数
			function f1(){
				return "f1被调用...";
			}
			let controlF1 = `${f1()}`;
			console.log(controlF1); // f1被调用...
		</script>
	</head>
	<body>
	</body>
</html>
```

---

### 对象相关新特性

#### 声明对象简写

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			// 声明对象简写
			const age = 800; 
			const name = "孙悟空";
			let monster = {name,age};
			console.log(monster) // {name: '孙悟空', age: 800}
		</script>
	</head>
	<body>
	</body>
</html>
```

#### 对象方法简写

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			// 对象方法简写
			let monster2 = { 
				name: "红孩儿", 
				age: 100, 
				sayHi() {  // 传统方式: sayHi:function()
					console.log("name=", this.name, " age=", this.age);  // name= 红孩儿  age= 100
				},
			}
			monster2.sayHi(); 
		</script>
	</head>
	<body>
	</body>
</html>
```

### 对象拓展运算符

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			// 对象拓展运算符
			let person = {
				name:"罗念笙",
				age:18,
				eat(){
					console.log("eating....")
				}
			}
			// 浅拷贝
			let person2 =  person;
			person2.name = "张洛融";
			console.log(person.name); // 张洛融
			
			// 深拷贝
			let person3 = {...person};
			person3.name = "XXX";
			console.log(person3.name); // XXX
			console.log(person.name); // 张洛融
			
			// 合并对象(深拷贝)
			let personMessage = {
				gender:"女",
				hobby:"跑步"
			}
			let wholeMessage = {...person,...personMessage};
			console.log(wholeMessage); // {name: '张洛融', age: 18, gender: '女', hobby: '跑步', eat: ƒ}
			person.name = "张洛";
			console.log(wholeMessage); // {name: '张洛融', age: 18, gender: '女', hobby: '跑步', eat: ƒ}
		</script>
	</head>
	<body>
	</body>
</html>
```

---

### 箭头函数(重要!!!)

1. 箭头函数提供更加简洁的函数书写方式
2. 基本语法是：(参数列表) => { 函数体 }
3. 箭头函数没有参数或有多个参数，要用 () 括起来,箭头函数只有一个参数, 可以省略()
4. 箭头函数函数体有多行语句，用 {} 包裹起来，表示代码块
5. 函数体只有一行语句，并且需要返回结果时，可以省略 {} , 结果会自动返回 
6. 箭头函数多用于匿名函数的定义

#### 箭头函数基本使用

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			// 传统函数
			let addSum = function(m,n){
				return m + n;
			}
			console.log(addSum(6,4)); // 10
			// 1.箭头函数基本使用
			// 基本语法是：(参数列表) => { 函数体 }
			let addSum2 = (m,n) =>{
				return m + n;
			}
			console.log(addSum2(3,4)); // 7
			// 箭头函数优化
			// 函数体只有一行语句，并且需要返回结果时，可以省略 {} , 结果会自动返回 
			let addSum3 = (m,n) => m + n;
			console.log(addSum2(3,90)); // 93
			
			// 2.可以把箭头函数当作形参传入(类似Java匿名内部类)
			function f(f4){
				console.log(f4(100));
			}
			f(
				(n) => {
					return n * 12;
				}
			)
			f(
				(n) => {
					return n - 12;
				}
			)
			
			// 传统函数
			var f1 = function (n, m) {
				var res = 0 
				for (var i = n; i <= m; i++) {
					res += i 
				}
				return res 
			}
			console.log(f1(1, 10))  // 55
			// 3.箭头函数灵活使用 
			let f2 = (n, m) => {
				var res = 0 
				for (var i = n; i <= m; i++) { 
					res += i 
				}
				return res 
			};
			console.log(f2(1, 10)); // 55
		</script>
	</head>
	<body>
	</body>
</html>
```

#### 箭头函数+对象解构

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			// 要求：在方法形参取出 monster 对象的 skill 属性 
			const monster = {
				name: "红孩儿",
				age: 100,
				skill: ['红缨枪', '三位真火']
			} 
			// 传统方式
			function f1(monster) {
				console.log("skill=", monster.skill);
			}
			f1(monster); 
			//箭头函数 
			let f2 = ({skill}) => { 
				console.log("skill=", skill); 
			}
			// 1.f2传入对象monster，含有属性skill 
			// 2.f2形参是{skill}, 根据ES6的对象解构特性, 会把monster对象的skill属性赋给skill 
			// 3.对象解构的前提就是{skill}的 skill 和 monster 的 skill 属性名必须是一致的
			f2(monster); 
			
			// 箭头函数()=> + 解构{}
			let f3 = ({age,name,skill}) => { // {age,name,skill} 顺序无要求
				console.log("skill=", skill, " age=", age, " name=", name);
			}
			f3(monster);
		</script>
	</head>
	<body>
	</body>
</html>
```



## Promise

### 基本介绍

1. 传统的 Ajax 异步调用在需要多个操作的时候，会导致多个回调函数嵌套（代码不够直观）就是常说的 Callback Hell
2. Promise 是异步编程的一种解决方案
3. 从语法上说，Promise 是一个对象，从它可以获取异步操作的消息

### 图解分析

![image-20220530112858519](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220530112858519.png) 

**方案一：JQuery + Ajax** 

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <script type="text/javascript" src="./jquery3.6.0/jquery-3.6.0.min.js"></script>
        <script type="text/javascript">
            $(function() {
                $("#btn").click(function() {
                    $.getJSON(
                        "./data/monster.json",
                        function(data, status, XHttp) {
                            let {id,name,age} = data;
                            // Callback Hell
                            $.getJSON(
                                `./data/monster_detail_${id}.json`,
                                function(data, status, XHttp) {
                                    console.log(data);
                                }
                            )
                        },
                    )
                })
            })
        </script>
    </head>
    <body>
        <button id="btn" type="button">按钮（发出Ajax请求）</button>
    </body>
</html>
```

数据存储暂时用json文件代替

```json
// monster.json
{
	"id": 1,
	"name":"孙悟空",
	"age": 500
}
// monster_detail_1.json
{
	"id": 1,
	"ability":"72变",
	"skill": "翻江倒海",
	"address": "花果山"
}
```

**方案二：Promise链式调用**

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <script type="text/javascript" src="jquery3.6.0/jquery-3.6.0.min.js"></script>
        <script type="text/javascript">
            // (resolve,reject)参数列表 (备注:resolve,reject名字可以自己定)
            // resolve: 如果请求成功，可以调用resolve函数
            // reject: 如果请求失败，可以调用reject函数
            let promise = new Promise((resolve, reject) => {
                $.getJSON(
                    `data/monster.json`,
                    function(data, status, XHttp) {
                        console.log(data);
                        resolve(data);
                    }
                )
            }).then((data => {
                return new Promise((resolve, reject) => {
                    $.getJSON(
                        `data/monster_detail_${data.id}.json`,
                        function(data, status, XHttp) {
                            console.log(data);
                            resolve(data);
                        }
                    )
                })
            })).then(
                (data => {
                    return new Promise((resolve, reject) => {
                        $.getJSON(
                            `data/monster_girl_${data.girlId}.json`,
                            function(data, status, XHttp) {
                                console.log(data);
                            }
                        )
                    })
                })
            )
        </script>
    </head>
    <body>
    </body>
</html>
```

数据存储暂时用json文件代替

```json
// monster.json
{
	"id": 1,
	"name":"孙悟空",
	"age": 500
}
// monster_detail_1.json
{
	"id": 1,
	"ability":"72变",
	"skill": "翻江倒海",
	"address": "花果山",
    "girlId":2
}
// monster_girl_2.json
{
	"id": 2,
	"name":"XXX",
	"age": 400
}
```

**方案三：promise 代码优化/重排**

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <script type="text/javascript" src="jquery3.6.0/jquery-3.6.0.min.js"></script>
        <script type="text/javascript">
            // 这里我们将重复的代码，抽出来,编写一个方法 get(url, data)
            function get(url, data) {
                return new Promise((resolve, reject) => {
                    $.ajax({
                        url: url,
                        data: data,
                        success(resultData) {
                            resolve(resultData);
                        },
                        error(err) {
                            reject(err);
                        }
                    })
                })
            }

            //1. 先获取 monster.json 
            //2. 获取 monster_detail_1.json 
            //2. 获取 monster_girl_2.json 
            get("data/monster.json").then((resultData) => { 
                //第 1 次 ajax 请求成功后的处理代码 
                console.log("第 1 次 ajax 请求返回数据=", resultData); 
                return get(`data/monster_detail_${resultData.id}.json`);
            }).then((resultData) => { 
                //第 2 次 ajax 请求成功后的处理代码 
                console.log("第 2 次 ajax 请求返回数据=", resultData);
                return get(`data/monster_girl_${resultData.girlId}.json`);
            }).then((resultData) => { 
                //第 3 次 ajax 请求成功后的处理代码 
                console.log("第 3 次 ajax 请求返回数据=", resultData); 
                //继续.. 
            }).catch((err) => {
                console.log("promise 请求异常=", err); 
            })
        </script>
    </head>
    <body>
    </body>
</html>
```



## 模块化编程

### 基本介绍

1. 传统非模块化开发有如下的缺点：(1)命名冲突 (2)文件依赖
2. Javascript 代码越来越庞大，Javascript 引入模块化编程，开发者只需要实现核心的业务逻辑，其他都可以加载别人已经写好的模块
3. Javascript 使用"模块"（module）的概念来实现模块化编程, 解决非模块化编程问题

![image-20220531095833837](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220531095833837.png)



### CommonJS 模块编程(ES5)

1. 每个 js 文件就是一个模块，有自己的作用域。在文件中定义的变量、函数、对象， 都是私有的，对其他 js 文件不可见
2. CommonJS 使用 module.exports={} / exports={} 导出 模块 , 使用 let/const 名称 = require("xx.js") 导入模块

**思路分析**

![image-20220531101400651](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220531101400651.png) 

**代码示例**

```js
// function.js
const sum = function(a, b) {
	return parseInt(a) + parseInt(b);
}
const sub = function(a, b) {
	return parseInt(a) - parseInt(b);
}

let name = "罗念笙";
let age = 18;

// module.exports = { 
// sum: sum, 
// sub: sub, 
// name: name,
// age: age 
// }
// 如果属性名和函数/变量/对象..名字相同，可以简写
module.exports = {
	sum,
	sub,
	name,
	age
}
```

```js
// use.js
const m = require("./function.js");
// 解构赋值
const {sub} = require("./function.js"); 


console.log(m.sub("100","200")); 
console.log(m.sum(10,90)); 
console.log(m.name)
console.log(m.age); 
console.log(sub(19,8));
```



### ES6 模块编程 

注意:ES6 的模块化无法在 Node.js 中执行，需要用 Babel 转码 ES5 后再执行

[Babel转码ES5在线工具](https://babeljs.io/repl/#?browsers=&build=&builtIns=false&corejs=3.21&spec=false&loose=false&code_lz=PTAEk8jR5xMH-1FNFAoAlgWwA4HsBOAXA3vASAGcBXZAGkNICNKCA7AQ2QFM7GBzF-AX1ADNM6ZKABEAOmABjYcnT1xAKyKiA3PHgz6RdABsW43eg4AKJqwCU6rTv2HjJziyub5tg0dM0TAFnIAmCxcbPQ8HUmQTAGZyHyDVIA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=true&fileSize=false&timeTravel=false&sourceType=module&lineWrap=false&presets=es2015%2Creact%2Cstage-2&prettier=false&targets=&version=7.18.4&externalPlugins=&assumptions=%7B%7D)

1. ES6 使用 (1)export {名称/对象/函数/变量/常量} (2) export 定义 = (3) export default {} 导出模块 
2. 使用 import {} from "xx.js" / import 名称 form "xx.js" 导入模块

**思路分析**

![image-20220531161328826](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220531161328826.png) 

**代码示例**

#### 批量导出导入

第一种导出模块/数据：export{对象，函数，变量，常量等}

```js
const sum = function(a, b) {
	return parseInt(a) + parseInt(b);
}
const sub = function(a, b) {
	return parseInt(a) - parseInt(b);
}

let name = "罗念笙";
let age = 18;

export{
	sum,
	sub,
	name,
	age
}

// Babel 转码 ES5 
"use strict";
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.sum = exports.sub = exports.name = exports.age = void 0;
var sum = function sum(a, b) {
  return parseInt(a) + parseInt(b);
};
exports.sum = sum;
var sub = function sub(a, b) {
  return parseInt(a) - parseInt(b);
};
exports.sub = sub;
var name = "罗念笙";
exports.name = name;
var age = 18;
exports.age = age;
```

第一种导入模块/数据：import {名称} from "XX.js"

```js
import{
	sum,
	sub,
	name,
	age
} from "./common.js";

console.log(name);
console.log(age);
console.log(sub(4,2));
console.log(sum(3,4));

// Babel 转码 ES5 
"use strict";
var _common = require("./common.js");
console.log(_common.name);
console.log(_common.age);
console.log((0, _common.sub)(4, 2));
console.log((0, _common.sum)(3, 4));
```

#### 定义时导出导入

第二种：export 对象/函数 = {}

```js
export const sum = function(a,b){
    return parseInt(a) + parseInt(b);
}

// Babel 转码 ES5 
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.sum = void 0;
var sum = function sum(a, b) {
    return parseInt(a) + parseInt(b);
};
exports.sum = sum;
```

第一种导入模块/数据：import {名称} from "XX.js"

```js
import{
	sum,
} from "./common2.js";
console.log(sum(5,4));

// Babel 转码 ES5 
"use strict";
var _common = require("./common2.js");
console.log((0, _common.sum)(5, 4));
```

#### 默认导出导入

第三种：export default{对象，函数，变量，常量等}

```js
export default{
    // 注意对象的变化 var 对象名 = {} => 对象名:{}
    // 注意函数的变化 const sum = function(a,b) => sum(a,b) 
	sum(a,b){
		return parseInt(a) + parseInt(b);
	},
	name:"罗念笙",
	age:18
} 

// Babel 转码 ES5 
"use strict";
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _default = {
  sum: function sum(a, b) {
    return parseInt(a) + parseInt(b);
  },
  name: "罗念笙",
  age: 18
};
exports.default = _default;
```

第二种是针对默认导出的 import 名称 from "XX.js"

```js
import m from "common3.js";

console.log(m.age);
console.log(m.name);
console.log(m.sum(3,4));

// Babel 转码 ES5 
"use strict";
var _common = _interopRequireDefault(require("common3.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
console.log(_common.default.age);
console.log(_common.default.name);
console.log(_common.default.sum(3, 4));
```



## Vue2

[Vue2官网](https://cn.vuejs.org/)

### 基本介绍

Vue （Vue.js 的简称）是一个前端框架, 易于构建用户界面

Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或项目整合

#### MVVM思想

![image-20220531200848632](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220531200848632.png) 

M∶即 Model，模型，包括数据和一些基本操作 

V∶即 View，视图，页面渲染结果 

VM∶即 View-Model，模型与视图间的双向操作(无需开发人员干涉)



### 快速入门Hello,Vue

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <script type="text/javascript" src="./Vue/vue.js"></script>
    </head>
    <body>
        <div id="app">
            <!--
{{ }} 插值表达式
会到data数据池中去匹配数据, 如果匹配上, 就进行替换
如果没有匹配上, 就是输出空 -->
            {{message}}{{name}}
        </div>
        <script type="text/javascript">
            let vm =  new Vue({
                el:"#app", // 绑定id等于app的控件
                data:{ // data:{} 表示数据池(model),以 k-v 形式设置
                    message:"Hello,",
                    name: "Vue!"
                }
            })
        </script>
    </body>
</html>
```

![image-20220601112919272](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220601112919272.png) 

注意：注意代码顺序，要求 div 在前，script 在后，否则无法绑定数据



### 数据单向渲染  v-bind

 v-bind 是数据单向渲染: data 数据池绑定的数据变化，会影响 view

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <div id="app">
            <h1>{{message}}</h1>
            <!-- 	
                1. 使用插值表达式引用 data 数据池数据是在标签体内 <h1></h1>
                2. 如果是在标签/元素 的属性上去引用 data 数据池数据时，不能使用插值表达式
            -->
            <img v-bind:src="img_src" v-bind:width="img_width"> 
            <!-- v-bind 简写形式就是一个冒号（:） -->
            <img :src="img_src":width="img_width">
        </div>
    </body>
    <script type="text/javascript" src="./Vue/vue.js"></script>
    <script type="text/javascript">
        new Vue({
            el:"#app",
            data:{
                message:"数据单向渲染 ",
                img_src:"imgs/1.jpg", 
                img_width:"200px"
            }
        })
    </script>
</html>
```

![image-20220601121631152](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220601121631152.png) 



### 数据双向绑定  v-model

v-model 是数据的双向渲染

1. data 数据池绑定的数据变化，会影响 view 【底层的机制是 Data Bindings】 
2. view 关联的的元素值变化, 会影响到 data 数据池的数据【底层机制是 Dom Listeners】

**案例：需求在输入框中输入信息，会更新到相应绑定的位置**

![image-20220601144001687](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220601144001687.png) 

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="app">
			<div>{{message}}</div> 
             <!-- 可以将 v-model:value="hobby" 简写成 v-model="hobby" -->
			<input type="text" v-model:value="hobby"><br/>
             <!-- 可以将 v-bind:value="hobby" 简写成 :value="hobby"  -->
			<input type="text" v-bind:value="hobby"><br/>
			<span>您输入的爱好是:</span>{{hobby}}
		</div>
		
	</body>
	<script type="text/javascript" src="./Vue/vue.js"></script>
	<script type="text/javascript">
		let vm = new Vue({
			el:"#app",
			data:{
				message:"输入你的爱好:",
				hobby: ""
			},
		})
	</script>
</html>
```



### 事件绑定 v-on

使用 v-on 进行事件处理，比如: v-on:click 表示处理鼠标点击事件

事件调用的方法定义在 vue 对象声明的 methods 节点中

**演示 Vue 事件绑定操作**

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>事件绑定</title>
    </head>
    <body>
        <div id="app">
            <p>{{message}}</p>
            <!-- v-on:click 表示我们要给 button 元素绑定一个 click 的事件 -->
            <button v-on:click="hi()">按钮1</button>
            <button v-on:click="cry()" >按钮2</button>
            <!-- 如果方法不需要传递参数，可以省略() -->
            <button v-on:click="hi">按钮3</button>
            <!-- v-on:click 可以简写@, 但是需要浏览器支持 -->
            <button @click="cry">按钮4</button><strong></strong>
        </div>
    </body>
    <script type="text/javascript" src="Vue/vue.js"></script>
    <script type="text/javascript">
        new Vue({
            el:"#app",
            data:{
                message:"事件绑定"
            },
            // hi() 表示绑定的方法, 在方法池 methods{} 定义
            methods:{
                hi(){
                    console.log("hi...");
                },
                cry(){
                    console.log("cry...");
                }
            }
        })
    </script>
</html>
```

![image-20220601163126142](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220601163126142.png) 

**事件绑定练习**

![image-20220601170304124](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220601170304124.png) 

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="app">
			<button v-on:click="add">点击增加+1</button>
			<button v-on:click="sum += 2">点击增加+2</button><hr>
			<span>一共被点击{{sum}}次</span>
		</div>
	</body>
	<script type="text/javascript" src="./Vue/vue.js"></script>
	<script type="text/javascript">
		new Vue({
			el:"#app",
			data:{
				sum : 0
			},
			methods:{
				add(){
					this.sum += 1;
					console.log(this.sum);
				}
			}
		})
	</script>
</html>
```



### 修饰符

修饰符 (Modifiers) 是以(.)指明的后缀，指出某个指令以特殊方式绑定

阻止事件原本的默认行为

**事件修饰符**

- .stop 阻止事件继续传播 
- .prevent 阻止标签默认行为
- .capture 使用事件捕获模式,即元素自身触发的事件先在此处处理，然后才交由内部元素进行处理 
- .self 只当在 event.target 是当前元素自身时触发处理函数 
- .once 事件将只会触发一次 
- .passive 告诉浏览器你不想阻止事件的默认行为

**键盘事件的修饰符**

项目经常需要监听一些键盘事件来触发程序的执行，而 Vue 中允许在监听的时候添 加关键修饰符

 <input v-on:keyup.13="submit">

**双向绑定的修饰符** 

自动过滤用户输入的首尾空格   <input v-model.trim="msg">

**代码示例**

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <div id="app"> 
            <!-- 
                1. 修饰符用于指出一个指令应该以特殊方式绑定。 
                2. v-on:submit.prevent 的.prevent 修饰符表示阻止表单提交的默认行为 
            -->
            <form action="http://www.baidu.com" v-on:submit.prevent="onMySubmit"> 
                妖怪名: <input type="text" v-model="monster.name"><br/>
                <button type="submit">注册</button> 
            </form>
            <button v-on:click.once="onMySubmit">点击一次</button><br/> 
            <!-- 键盘事件的修饰符 -->
            <input type="text"  v-model="monster.name" v-on:keyup.enter="onMySubmit"> 
            <input type="text"  v-model="monster.name" v-on:keyup.down="onMySubmit"> 
        </div>
    </body>
    <script type="text/javascript" src="./Vue/vue.js"></script>
    <script type="text/javascript">
        let vm = new Vue({
            el:"#app",
            data:{
                monster:{
                },
            },
            methods:{
                onMySubmit() {
                    if(this.monster.name){
                        console.log(this.monster.name);
                        location.href="http://www.baidu.com";
                    }else{
                        alert("没有输入信息!");
                        return false;
                    }
                }
            }
        })
    </script>
</html>
```



### 条件渲染  v-if v-show

v-if 指令用于条件性地渲染一块内容。这块内容只会在指令的表达式返回 true 值的时候被渲染，也可以用 v-else 添加一个else块

v-show 根据条件展示元素，不同的是带有 v-show 的元素始终会被渲染并保留在DOM中，v-show 只是简单地切换元素的 CSS 属性 display

**代码示例**

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <div id="app">
            <input type="checkbox" v-model="sel">是否同意条款[v-if v-show实现]
            <!-- v-if/v-else 会根据返回的值,来决定是否动态创建对应的子组件<h1> -->
            <h1 v-if="sel">你同意条款</h1>
            <h1 v-else>你不同意条款</h1>
            <!-- v-show的使用 -->
            <h1 v-show="sel">你同意条款</h1>
            <h1 v-show="!sel">你不同意条款</h1>
        </div>
    </body>
    <script type="text/javascript" src="./Vue/vue.js"></script>
    <script type="text/javascript">
        let vm = new Vue({
            el:"#app",
            data:{
                sel:false
            }

        })
    </script>
</html>
```

![image-20220602142108179](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220602142108179.png) 

**v-if 和 v-show 的区别**

![image-20220602144628899](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220602144628899.png) 

v-if 会确保在切换过程中，条件块内的事件监听器和子组件能动态的销毁和重建

 v-show 机制相对简单, 不管初始条件是什么，元素总是会被渲染，并且只是对 CSS 进行切换

如果要频繁地切换，建议使用 v-show ；如果运行时条件很少改变，使用 v-if 较好



### 列表渲染  v-for

演示列表渲染使用使用(v-for)

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <div id="app">
            <li v-for="i in 4">{{i}}</li>

            <li v-for="(i,index) in 3">{{i}}-{{index}}</li>

            <table width="400px" border="1px">
                <!-- 遍历数组monsters,数据存放在数据池 -->
                <tr v-for="(monster,index) in monsters">
                    <td>{{index+1}}</td>
                    <td>{{monster.name}}</td>
                    <td>{{monster.age}}</td>
                </tr>
            </table>
            <br/>
            <table width="400px" border="1px">
                <!-- 遍历数组monsters,数据存放在数据池 -->
                <tr>
                    <th>id</th>
                    <th>name</th>
                    <th>age</th>
                    <th>score</th>
                </tr>
                <tr v-for="student in students" style="text-align: center;">
                    <td>{{student.id}}</td>
                    <td>{{student.name}}</td>
                    <td>{{student.age}}</td>
                    <td>{{student.score}}</td>
                </tr>
            </table>
        </div>
    </body>
    <script type="text/javascript" src="./Vue/vue.js"></script>
    <script type="text/javascript">
        new Vue({
            el:"#app",
            data:{
                monsters:[
                    {name:"牛魔王",age:800},
                    {name:"黑山老妖",age:900},
                    {name:"红孩儿",age:200}
                ],
                students:[
                    {id:1,name:"jack",age:20,score:90},
                    {id:3,name:"mary",age:20,score:60}	
                ]
            }
        })
    </script>
</html>
```

![image-20220602203654717](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220602203654717.png) 



### 组件化编程

在大型应用开发的时候，页面可以划分成很多部分，往往不同的页面，也会有相同的部分。例如可能会有相同的头部导航

所以我们会把页面的不同部分拆分成独立的组件，然后在不同页面就可以共享这些组件，避免重复开发

- 组件(Component) 是 Vue.js 最强大的功能之一
- 组件也是一个Vue实例，也包括∶ data、methods、生命周期函数等 
- 组件渲染需要 html模板，所以增加了template 属性
- 对于全局组件，任何vue 实例都可以直接在 HTML 中通过组件名称来使用组件
- data 是一个函数，不再是一个对象， 这样每次引用组件都是独立的对象/数据

**需求如下, 点击一个按钮, 可以显示点击的次数**

**全局组件化**

![image-20220603113439947](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220603113439947.png) 

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <div id="app">
            <counter></counter><br/><br/>
            <counter></counter><br/><br/>
            <counter></counter><br/><br/>	
        </div>
    </body>
    <script type="text/javascript" src="./Vue/vue.js"></script>
    <script>
        // 要把组件视为一个 Vue 实例，也有自己的数据池和方法池
        Vue.component("counter",{
            template: `<button v-on:click="click()">点击次数= {{count}} 次【全局组件化】 </button>`,
            data(){
                // 对于组件，我们的数据池的数据，是使用函数/方法返回
                // [目的是为 了保证每个组件的数据是独立], 不能使用原来的方式
                return {
                    count:10
                }
            },
            methods:{
                click(){
                    this.count++
                }
            }
        })
        // 组件定义需要放置在 new Vue() 前，否则组件注册会失败
        new Vue({
            el:"#app",
        });
    </script>
</html>
```

**局部组件化**

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <div id="app">
            <localcounter></localcounter><br/><br/>
        </div>
        <localcounter></localcounter><br/><br/>
    </body>
    <script type="text/javascript" src="./Vue/vue.js"></script>
    <script>
        // 要把组件视为一个 Vue 实例，也有自己的数据池和方法池
        const  Counter_Components = {
            template: `<button v-on:click="click()">点击次数= {{count}} 次【全局组件化】 </button>`,
            data(){
                // 对于组件，我们的数据池的数据，是使用函数/方法返回
                // [目的是为 了保证每个组件的数据是独立], 不能使用原来的方式
                return {
                    count:10
                }
            },
            methods:{
                click(){
                    this.count++
                }
            }
        }
        new Vue({
            el:"#app",
            components:{
                'localcounter':Counter_Components,
            }
        });
    </script>
</html>
```



### 生命周期和监听函数(钩子函数)

Vue 实例有一个完整的生命周期，也就是说从开始创建、初始化数据、编译模板、挂载 DOM、渲染-更新-渲染、卸载等一系列过程，我们称为 Vue 实例的生命周期

钩子函数(监听函数): Vue 实例在完整的生命周期过程中(比如设置数据监听、编译模板、将实例挂载到 DOM 、在数据变化时更新 DOM 等), 也会运行叫做生命周期钩子的函数；钩子函数的作用就是在某个阶段, 给程序员一个做某些处理的机会

**生命周期**

![image-20220603143057918](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220603143057918.png) 

1) new Vue()  创建一个 Vue 的实例对象，此时就会进入组件的创建过程
2) Init Events & Lifecycle 初始化组件的事件和生命周期函数 
3) **beforeCreate** 组件创建之后遇到的第一个生命周期函数，这个阶段 data 和 methods 以及 dom 结构都未被初始化，也就是获取不到 data 的值，不能调用 methods 中的函数 
4) Init injections & reactivity 这个阶段中, 正在初始化 data 和 methods 中的方法 
5) **created** - 这个阶段组件的 data 和 methods 中的方法已初始化结束，可以访问，但是 dom 结构未初始化，页面未渲染 ，在这个阶段，经常会发起 Ajax 请求 
6) 编译模板结构(在内存) 
7) **beforeMount** 当模板在内存中编译完成，此时内存中的模板结构还未渲染至页面上，看不到真实的数据 
8) Create vm.$el and replace ‘el’ with it 这一步，再在把内存中渲染好的模板结构替换至真实的 dom 结构也就是页面上 
9) **mounted** 此时，页面渲染好，用户看到的是真实的页面数据， 生命周期创建阶段完毕，进入到了运行中的阶段 
10) 生命周期运行中 
10.1 **beforeUpdate** 当执行此函数，数据池的数据新的，但是页面是旧的 
10.2 Virtual DOM re-render and patch 根据最新的 data 数据，重新渲染内存中的模板结构，并把渲染好的模板结构，替换至页面上
10.3 **updated** 页面已经完成了更新，此时，data 数据和页面的数据都是新的 
11) **beforeDestroy** 当执行此函数时，组件即将被销毁，但是还没有真正开始销毁，此时组件的 data、methods
数据或方法 还可被调用 
12) Teardown......注销组件和事件监听 
13) **destroyed** 组件已经完成了销毁

**代码实例-展示 Vue 实例生命周期和钩子函数执行时机**

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>生命周期和监听函数</title>
    </head>
    <body>
        <div id="app">
            <span id="span">num={{num}}</span><br>
            <button v-on:click="click()">点赞!</button>
            <h1>{{name}}有{{num}}次点赞!</h1>
        </div>
    </body>
    <script type="text/javascript" src="./Vue/vue.js"></script>
    <script type="text/javascript">
        new Vue({
            el:"#app",
            data:{
                name:"jack",
                num:0
            },
            methods:{
                click(){
                    this.num++
                }
            },
            // 1.组件创建之后遇到的第一个生命周期函数，这个阶段 data 和 methods 以及 dom 
            // 结构都未被初始化，也就是获取不到 data 的值，不能调用 methods 中的函数 
            beforeCreate() {
                console.log("=========beforeCreate========"); 
                // Vue实例的数据和方法没有创建
                console.log(this.num); // undefined
                // 页面已经被加载，但是数据没有被渲染
                console.log(document.getElementById("span").innerText); // num={{num}}
            },
            // 2.这个阶段组件的 data 和 methods 中的方法已初始化结束，可以访问，
            // 但是 dom 结构未初始化，页面未渲染 ，在这个阶段，经常会发起 Ajax 请求 
            created() {
                console.log("=========created========");
                // Vue实例的数据和方法已经被加载到内存
                console.log(this.num); // 0
                // 页面已经被加载，但是数据没有被渲染
                console.log(document.getElementById("span").innerText);// num={{num}}
            },
            // 3.当模板在内存中编译完成，此时内存中的模板结构还未渲染至页面上，
            // 看不到真实的数据 
            beforeMount() {
                console.log("=========beforeMount========");
                // Vue实例的数据和方法已经被加载到内存
                console.log(this.num); // 0
                // 页面已经被加载，但是数据没有被渲染
                console.log(document.getElementById("span").innerText);// num={{num}}
            },
            // 4.此时，页面渲染好，用户看到的是真实的页面数据， 生命周期创建阶段完毕，
            // 进入到了运行中的阶段 
            mounted() {
                console.log("=========mounted========");
                // Vue实例的数据和方法已经被加载到内存
                console.log(this.num); // 0
                // 页面已经被加载，但是数据没有被渲染
                console.log(document.getElementById("span").innerText);// num=0
            },
            // 点击一次
            // 当执行此函数，数据池的数据新的，但是页面是旧的 
            beforeUpdate() {
                console.log("=========beforeUpdate========");
                console.log(document.getElementById("span").innerText);// num=0
            },
            // 页面已经完成了更新，此时，data 数据和页面的数据都是新的 
            updated() {
                console.log("=========updated========");
                console.log(document.getElementById("span").innerText);// num=1
            }
        })
    </script>
</html>
```

![image-20220603162832612](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220603162832612.png) 



### Vue2 脚手架模块化开发

**npm 和 cnpm 的区别** 

- 两者之间只是 node 中包管理器的不同, 都可以使用 
- npm 是 node 官方的包管理器；cnpm 是个中国版的 npm，是淘宝定制的 cnpm (gzip 压缩支持) 命令行工具代替默认的 npm 
-  如果因为网络原因无法使用 npm 下载，那 cnpm 这个就派上用场了 
-  小结: npm 和 cnpm 只是下载的地址不同，npm 是从国外下载东西，cnpm 是从国内下载东西

**脚手架生成文件目录分析**

![image-20220604121841805](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220604121841805.png) 

**案例：输入hello跳转到该页面**

![image-20220605092626664](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220605092626664.png)

```html
<!-- 被Vue实例绑定的页面 -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>vue_project</title>
  </head>
  <body>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
```

创建Vue对象实例，分别做了三件事

1. 挂载到首页面（id=app）
2. router路由的访问
3. 初始化模板和组件渲染到首页面

```js
// The Vue build version to load with the `import` command
// (runtime-only or standalone) has been set in webpack.base.conf with an alias.
import Vue from 'vue'
import App from './App' // import App from './App.vue'
import router from './router'// import router from './router/index.js

Vue.config.productionTip = false

/* eslint-disable no-new */
new Vue({
  el: '#app',
  router, // router: router
  components: { App }, // components: {'App':App}
  template: '<App/>'
})
```

router路由的访问

```js
import Vue from 'vue'
import Router from 'vue-router'
import HelloWorld from '@/components/HelloWorld'
import Hello from '@/components/Hello';

Vue.use(Router)

export default new Router({
  routes: [
    {
      path: '/hello', // 路由路径
      name: 'Hello', 
      component: Hello
    }
  ]
})
```

```Vue
<template>
    <h3>Hello,mary</h3>
</template>

<script>
    export default {
        name: "Hello"
    }
</script>
<style scoped>
</style>
```

初始化模板和组件渲染到首页面

```vue
<template>
  <div id="app">
    <img src="./assets/logo.png">
    <!--将路由后的页面/视图渲染到这里-->
    <router-view/>
  </div>
</template>

<script>
export default {
  name: 'App'
}
</script>

<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
```



## ElementUI

[在线文档](https://element.eleme.cn/#/zh-CN)

ElementUI 是组件库，网站快速成型工具

注意：Vue2 -> ElementUI   Vue3 -> ElementPlus

**命令：** npm i element-ui@2.12.0

![image-20220605122755126](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220605122755126.png) 

在main.js中引入包

```js
// 引入ElementUI组件库,就可以使用ElementUI组件库
import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';

Vue.use(ElementUI);
```

然后根据在线文档引入操作



## Axios

[在线文档](https://javasoho.com/axios/)

axios 是独立于 vue 的一个项目，不是 Vue 的一部分

axios 通常和 Vue 一起使用，实现 Ajax 操作

Axios 是一个基于 promise 的 HTTP 库

引入库

```js
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
```

**案例：实现Ajax请求**

```json
{
	"success": true,
	"message": "成功",
	"data": {
		"items": [{
			"name": "牛魔王",
			"age": 800
		}, {
			"name": "红孩儿",
			"age": 500
		}, {
			"name": "蜈蚣精",
			"age": 200
		}]
	}
}
```

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="app">
			<h1>妖怪列表</h1>
			<table border="1" width="300">
				<tr>
					<td>名字</td>
					<td>年龄</td>
				</tr>
				<tr v-for="monster in monsterList">
					<td>{{monster.name}}</td>
					<td>{{monster.age}}</td>
					</td>
				</tr>
			</table>
		</div>
	</body>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="Vue/vue.js"></script>
	<script type="text/javascript">
		new Vue({
			el: "#app",
			data: {
				monsterList: []
			},
			created() {
				this.list();
			},
			methods: {
				list() {
					axios.get("http://127.0.0.1:8848/Axios/response.json")
					.then(responseData => {
						// responseData.data 表示json对象
						this.monsterList = responseData.data.data.items;
					})
				}
			},
			
		})
	</script>
</html>
```

![image-20220605170119945](https://use-typora.oss-cn-hangzhou.aliyuncs.com/image-20220605170119945.png) 









